import{j as t}from"./locales-548059eb.js";import{r as n}from"./react-libs-840bfe49.js";import{c as k}from"./rc-cli_site-mobile-demo-3935d5c1.js";import{U as r}from"./Uploader-7bc6c6ed.js";import{a as b}from"./index-9cdb6f61.js";import{T as d}from"./index-ec9d0b36.js";import"./mobile-094a819d.js";import"./base-1da74170.js";import"./index-59db7e48.js";import"./unit-bb3e6514.js";import"./ConfigProviderContext-0f984393.js";import"./interceptor-35467a90.js";import"./Image-d312b6e1.js";import"./use-set-state-898f20ed.js";import"./use-update-effect-09c1ca0c.js";import"./Loading-c60598b2.js";import"./index-091c3a1d.js";import"./index-945c9dff.js";import"./use-gesture-react.esm-484f41f1.js";import"./use-ref-state-6962d29d.js";import"./bound-41eb6e06.js";import"./get-rect-4dc7f7e4.js";import"./use-mounted-ref-49b7ba77.js";import"./Popup-a2a0dcda.js";import"./Overlay-d703c016.js";import"./use-touch-76dedc34.js";import"./use-scroll-parent-a4dd715d.js";import"./CSSTransition-ea203202.js";import"./use-event-listener-721bbec6.js";import"./PopupContext-0557b73d.js";import"./render-38a34f7f.js";import"./constant-7552c2aa.js";import"./lock-click-c7a7fb0f.js";const m=[{url:"https://img.yzcdn.cn/vant/sand.jpg",status:"done",name:"图片名称"},{url:"https://img.yzcdn.cn/vant/tree.jpg",status:"done",name:"图片名称"}],me=()=>{const{DemoBlock:o,DemoSection:x}=k,[c,l]=n.useState([{url:"https://img.yzcdn.cn/vant/leaf.jpg",status:"uploading",message:"上传中..."},{url:"https://img.yzcdn.cn/vant/tree.jpg",status:"failed",message:"上传失败"}]),[g,j]=n.useState([]),[h,v]=n.useState([m[0]]),[y,C]=n.useState([m[0]]),[f,D]=n.useState(m),[w,S]=n.useState([m[1]]),u=(e,{index:s})=>{e.status="uploading",e.message="上传中...";const a=[...c];a[s]=e,l(a),setTimeout(()=>{e.status="failed",e.message="上传失败",e.content="xxxx.jpg",l(p=>{const i=[...p];return i[s]=e,i})},1e3)},z=async e=>{const s=Array.isArray(e)?e:[e];return new Promise(a=>{const p=s.filter(i=>i.type!=="image/jpeg"?(d.info(`${i.name}格式错误，请上传 jpg 格式图片`),!1):!0);a(p)})},R=e=>{console.log(e),d("文件大小不能超过 5kb")};return t.jsxs(x,{className:"demo-uploadeer",children:[t.jsx(o,{title:"基础用法",children:t.jsx(r,{afterRead:e=>console.log(e)})}),t.jsx(o,{title:"文件预览",children:t.jsx(r,{onClickPreview:(e,s)=>{console.log(e,s)},onClickUpload:()=>{console.log("click upload tigger")},value:f,onChange:D})}),t.jsx(o,{title:"上传状态",children:t.jsx(r,{multiple:!0,value:c,afterRead:u,onChange:e=>l(e)})}),t.jsx(o,{title:"限制上传数量",children:t.jsx(r,{multiple:!0,maxCount:4,value:h,afterRead:u,onChange:v})}),t.jsx(o,{title:"限制文件大小",children:t.jsx(r,{multiple:!0,value:y,onChange:C,maxSize:5*1024,onOversize:R})}),t.jsx(o,{title:"自定义上传样式",children:t.jsx(r,{style:{width:"100%"},children:t.jsx(b,{block:!0,type:"primary",round:!0,children:"上传文件"})})}),t.jsx(o,{title:"自定义预览样式",children:t.jsx(r,{value:w,onChange:S,previewCoverRender:e=>t.jsx("div",{className:"preview-cover",children:e.name})})}),t.jsx(o,{title:"上传前置处理",children:t.jsx(r,{multiple:!0,value:g,onChange:j,beforeRead:z})}),t.jsx(o,{title:"禁用文件上传",children:t.jsx(r,{disabled:!0})})]})};export{me as default};
